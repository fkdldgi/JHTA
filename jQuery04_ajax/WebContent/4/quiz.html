<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript" src="../js/jquery-3.5.1.js"></script>
<script type="text/javascript">
	$(function(){
		$("#btn1").click(function(){
			var pwd=$("#pwd").val();
			var email=$("#email").val();
			$.ajax({
				url:"idFind.jsp",    //?pwd="+pwd+"&email="+email,
				method:"get",
				data:{"email":email,"pwd":pwd}, //json방식으로 데이터 전달
				//dataType:"xml", //생략가능
				success:function(data){
					var result=$(data).find("result");
					var id=result.find("id").text();
					if(id==""){
						$("#result").html("아이디를 찾을 수 없습니다.");
					}else{
						//var resultId=idStar(id,3);
						$("#result").html(id);
					}
				}
			});
		});
	});
	//방법1
	/* function idStar(str,len){
		var returnStr="";
		for(let i=0; i<str.length; i++){
			if(i<len){
				returnStr+=str.substring(i,i+1);
			}else{
				returnStr+='*';
			}
		}
		return returnStr;
	} */
</script>
</head>
<body>
<!-- 이메일과 비밀번호를 입력해서 아이디를 조회해서 div#result에 보이도록 해보세요 -->
<h1>아이디찾기</h1>
이메일<input type="text" id="email"><br>
비밀번호<input type="password" id="pwd"><br>
<input type="button" value="아이디찾기" id="btn1">
<div id="result"></div>
</body>
</html>